import{s as j,b as B,f as D,r as F}from"../chunks/scheduler.19f29636.js";import{S as H,i as J,B as K,r as V,s as w,g as _,u as z,c as C,h as g,j as U,y as I,f as A,k as u,v as G,a as q,x as d,A as E,z as P,d as W,t as Y,w as M}from"../chunks/index.90f2793d.js";import{g as Q}from"../chunks/navigation.df8e3220.js";import{J as X}from"../chunks/Constants.f94e8d01.js";import{F as Z}from"../chunks/FadingErrorAlert.0e83de9b.js";import{O as ee}from"../chunks/OpenAPI.2cb409f5.js";import{r as te}from"../chunks/request.aecdd3a3.js";class se{static postApiLogin(s){return te(ee,{method:"POST",url:"/api/login",body:s,mediaType:"application/json"})}}function ne(o){let s,f,m,l,t,c,y="Login",b,i,v,n,x,r,S="Login",L,h,k="Register",T,O,$;function R(e){o[5](e)}let N={message:o[3]+","};return o[2]!==void 0&&(N.show=o[2]),s=new Z({props:N}),B.push(()=>K(s,"show",R)),{c(){V(s.$$.fragment),m=w(),l=_("div"),t=_("div"),c=_("h1"),c.textContent=y,b=w(),i=_("input"),v=w(),n=_("input"),x=w(),r=_("button"),r.textContent=S,L=w(),h=_("a"),h.textContent=k,this.h()},l(e){z(s.$$.fragment,e),m=C(e),l=g(e,"DIV",{class:!0});var p=U(l);t=g(p,"DIV",{class:!0});var a=U(t);c=g(a,"H1",{class:!0,"data-svelte-h":!0}),I(c)!=="svelte-17unnt7"&&(c.textContent=y),b=C(a),i=g(a,"INPUT",{type:!0,placeholder:!0,class:!0}),v=C(a),n=g(a,"INPUT",{type:!0,placeholder:!0,class:!0}),x=C(a),r=g(a,"BUTTON",{class:!0,"data-svelte-h":!0}),I(r)!=="svelte-cix7ts"&&(r.textContent=S),L=C(a),h=g(a,"A",{href:!0,class:!0,"data-svelte-h":!0}),I(h)!=="svelte-1qof59e"&&(h.textContent=k),a.forEach(A),p.forEach(A),this.h()},h(){u(c,"class","text-center text-3xl mb-3"),u(i,"type","text"),u(i,"placeholder","Email"),u(i,"class","input input-bordered input-info w-full max-w-xs"),u(n,"type","password"),u(n,"placeholder","Password"),u(n,"class","input input-bordered input-info w-full max-w-xs"),u(r,"class","btn btn-success mt-7"),u(h,"href","/register"),u(h,"class","link mt-2"),u(t,"class","card-body"),u(l,"class","card w-96 bg-base-100 shadow-xl m-auto card-bordered border-blue-600")},m(e,p){G(s,e,p),q(e,m,p),q(e,l,p),d(l,t),d(t,c),d(t,b),d(t,i),E(i,o[0]),d(t,v),d(t,n),E(n,o[1]),d(t,x),d(t,r),d(t,L),d(t,h),T=!0,O||($=[P(i,"input",o[6]),P(n,"input",o[7]),P(r,"click",o[4])],O=!0)},p(e,[p]){const a={};p&8&&(a.message=e[3]+","),!f&&p&4&&(f=!0,a.show=e[2],D(()=>f=!1)),s.$set(a),p&1&&i.value!==e[0]&&E(i,e[0]),p&2&&n.value!==e[1]&&E(n,e[1])},i(e){T||(W(s.$$.fragment,e),T=!0)},o(e){Y(s.$$.fragment,e),T=!1},d(e){e&&(A(m),A(l)),M(s,e),O=!1,F($)}}}function ae(o,s,f){let m="",l="",t=!1,c="login was not successfull";async function y(){let n={email:m,password:l};se.postApiLogin(n).then(r=>{localStorage.setItem(X,r),Q("/entry")}).catch(r=>{console.log(r),f(3,c=r.body),f(2,t=!0)})}function b(n){t=n,f(2,t)}function i(){m=this.value,f(0,m)}function v(){l=this.value,f(1,l)}return[m,l,t,c,y,b,i,v]}class de extends H{constructor(s){super(),J(this,s,ae,ne,j,{})}}export{de as component};
